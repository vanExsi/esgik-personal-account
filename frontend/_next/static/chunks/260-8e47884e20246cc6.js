"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[260],{3999:(e,s,t)=>{t.d(s,{cn:()=>n});var a=t(2596),r=t(9688);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},4260:(e,s,t)=>{t.d(s,{A:()=>Z});var a=t(5155),r=t(2115),n=t(7168),l=t(9160),i=t(4416),o=t(3999);function d(e){let{...s}=e;return(0,a.jsx)(l.bL,{"data-slot":"sheet",...s})}function c(e){let{...s}=e;return(0,a.jsx)(l.l9,{"data-slot":"sheet-trigger",...s})}function h(e){let{...s}=e;return(0,a.jsx)(l.ZL,{"data-slot":"sheet-portal",...s})}function x(e){let{className:s,...t}=e;return(0,a.jsx)(l.hJ,{"data-slot":"sheet-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function m(e){let{className:s,children:t,side:r="right",...n}=e;return(0,a.jsxs)(h,{children:[(0,a.jsx)(x,{}),(0,a.jsxs)(l.UC,{"data-slot":"sheet-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",s),...n,children:[t,(0,a.jsxs)(l.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(i.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}var u=t(8145),g=t(8136),f=t(1007),b=t(7434),v=t(7809),p=t(4395),j=t(7580),N=t(4835),y=t(4783),w=t(3861),A=t(4788),k=t(6874),_=t.n(k),C=t(5695),P=t(8482),z=t(646),E=t(6414);function U(e){let{notifications:s,onClose:t,userId:l}=e,[o,d]=(0,r.useState)(s),c=async e=>{try{await E.N.from("notifications").update({is_read:!0}).eq("id",e),d(s=>s.filter(s=>s.id!==e))}catch(e){}},h=async()=>{try{await E.N.from("notifications").update({is_read:!0}).eq("user_id",l).eq("is_read",!1),d([])}catch(e){}},x=e=>{let s={info:"bg-blue-100 text-blue-800",warning:"bg-yellow-100 text-yellow-800",success:"bg-green-100 text-green-800",error:"bg-red-100 text-red-800"};return s[e]||s.info};return(0,a.jsx)("div",{className:"absolute top-0 right-0 z-50 w-96 max-w-full",children:(0,a.jsxs)(P.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(P.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)(P.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-4 w-4"}),"Уведомления"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[o.length>0&&(0,a.jsxs)(n.$,{variant:"ghost",size:"sm",onClick:h,children:[(0,a.jsx)(z.A,{className:"h-4 w-4 mr-1"}),"Все прочитано"]}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",onClick:t,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(P.Wu,{className:"max-h-96 overflow-y-auto",children:0===o.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(w.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Нет уведомлений"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Все уведомления прочитаны"})]}):(0,a.jsx)("div",{className:"space-y-3",children:o.map(e=>(0,a.jsx)("div",{className:"p-3 border rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h4",{className:"font-medium text-sm",children:e.title}),(0,a.jsx)(u.E,{className:"text-xs ".concat(x(e.type)),children:e.type})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.created_at).toLocaleString("ru-RU")})]}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>c(e.id),children:(0,a.jsx)(z.A,{className:"h-4 w-4"})})]})},e.id))})})]})})}var S=t(9420),B=t(4516),$=t(4186);function L(e){let{onClose:s,currentPage:t}=e,r=(e=>{let s={"/dashboard":{title:"Главная страница личного кабинета",content:["\uD83D\uDCCA Отслеживайте статистику ваших объектов: активные, завершенные и общее количество","\uD83D\uDD14 Следите за уведомлениями в правом верхнем углу - там появляются важные сообщения","⚡ Используйте быстрые действия для заказа услуг, просмотра документов или редактирования профиля","\uD83D\uDCCB В разделе 'Последние объекты' видны ваши недавние заказы с актуальными статусами","\uD83D\uDCAC Данные автоматически синхронизируются с нашей CRM-системой"]},"/dashboard/profile":{title:"Настройка профиля",content:["\uD83D\uDC64 Заполните ФИО и контактные данные для корректного оформления документов","\uD83D\uDCB3 Выберите удобный способ оплаты: наличные, банковский перевод, QR-код или по реквизитам","\uD83D\uDCE6 Настройте способ получения документов: в офисе, доставка на объект, Яндекс.Доставка или CDEK","\uD83C\uDFAB Используйте промокоды для получения скидок - вводите код в специальном поле","\uD83D\uDCB0 Сумма к оплате автоматически пересчитывается при применении промокода"]},"/dashboard/objects":{title:"Управление объектами",content:["\uD83C\uDFE0 Здесь отображаются все ваши заказанные объекты с подробной информацией","\uD83D\uDCCD Для каждого объекта указан адрес, кадастровый номер и статус выполнения работ","\uD83D\uDC68‍\uD83D\uDCBC Видите персонального менеджера, кадастрового инженера и геодезиста по каждому объекту","\uD83D\uDCC5 Отслеживайте дату и время выезда специалистов на объект","\uD83D\uDCAC Общайтесь с персональным менеджером через встроенный чат для решения вопросов","\uD83D\uDCB5 Контролируйте стоимость работ по каждому объекту"]},"/dashboard/services":{title:"Каталог услуг",content:["\uD83D\uDCCB Выберите необходимую геодезическую или кадастровую услугу из каталога","\uD83D\uDCB0 Ознакомьтесь с описанием услуги и стоимостью 'от' указанной суммы","\uD83D\uDED2 После заказа услуга автоматически появится в разделе 'Объекты'","\uD83D\uDCDE Для точного расчета стоимости свяжитесь с нами по телефону 8 (495) 127 75-73","⚡ Доступные услуги: межевание, технический план, акт обследования, схема ЗУ, топосъемка, вынос границ"]},"/dashboard/documents":{title:"Работа с документами",content:["\uD83D\uDCC4 Раздел 'Для подписи' - документы, которые мы загрузили для вашего ознакомления и подписи","✅ Раздел 'Подписанные' - место для загрузки ваших подписанных документов","\uD83D\uDC41️ Используйте предварительный просмотр для ознакомления с документами перед скачиванием","\uD83D\uDCE4 Загружайте подписанные документы через кнопку 'Загрузить файл'","\uD83D\uDD14 Получайте уведомления о поступлении новых документов для подписи"]},"/dashboard/personal-data":{title:"Персональные данные",content:["\uD83C\uDD94 Заполните паспортные данные: серия, номер, кем и когда выдан, адрес прописки","\uD83D\uDCCB Укажите номер СНИЛС для корректного оформления официальных документов","\uD83D\uDCF8 Загрузите фотографии документов - наши сотрудники сами заполнят все поля","\uD83D\uDD04 Данные автоматически синхронизируются с нашей CRM-системой","\uD83D\uDD12 Все персональные данные надежно защищены и используются только для оформления документов"]},"/dashboard/partnership":{title:"Партнерская программа",content:["\uD83D\uDCDD Создавайте заявки на работы для своих клиентов, выбирая услугу и указывая детали объекта","\uD83D\uDC65 Управляйте контрагентами - добавляйте данные ваших физических заказчиков","\uD83D\uDCB0 Отслеживайте заработок по реферальной программе и текущий баланс","\uD83D\uDD17 Используйте уникальную реферальную ссылку для привлечения новых клиентов","\uD83D\uDCCA Следите за статусом заявок: расчет стоимости, принятие/отклонение предложений","\uD83D\uDCB3 Запрашивайте вывод заработанных средств через кнопку в разделе баланса"]}};return s[e]||s["/dashboard"]})(t);return(0,a.jsx)("div",{className:"absolute top-0 right-0 z-50 w-96 max-w-full",children:(0,a.jsxs)(P.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(P.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)(P.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"h-4 w-4"}),"Помощь по работе с системой"]}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",onClick:s,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)(P.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-3",children:r.title}),(0,a.jsx)("div",{className:"space-y-3 text-sm text-gray-600 max-h-64 overflow-y-auto",children:r.content.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"w-1 h-1 bg-blue-600 rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"leading-relaxed",children:e})]},s))})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Контактная информация ЕСГИК"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{className:"font-medium",children:"8 (495) 127 75-73"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(B.A,{className:"h-4 w-4 text-blue-600 mt-0.5"}),(0,a.jsx)("span",{children:"г. Орехово-Зуево, ул. Бабушкина д.2а, 5 этаж, офис 10"})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)($.A,{className:"h-4 w-4 text-orange-600 mt-0.5"}),(0,a.jsx)("span",{children:"Обслуживаемые города: Орехово-Зуево, Павловский Посад, Воскресенск, Шатура, Электрогорск, Ликино-Дулёво"})]})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Нужна консультация?"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Свяжитесь с нами для получения бесплатной консультации и точного расчета стоимости услуг"}),(0,a.jsxs)(n.$,{className:"w-full",size:"sm",children:[(0,a.jsx)(S.A,{className:"mr-2 h-4 w-4"}),"Позвонить 8 (495) 127 75-73"]})]})]})]})})}let R=[{href:"/dashboard",label:"Главная",icon:g.A},{href:"/dashboard/profile",label:"Профиль",icon:f.A},{href:"/dashboard/personal-data",label:"Персональные данные",icon:b.A},{href:"/dashboard/objects",label:"Объекты",icon:g.A},{href:"/dashboard/services",label:"Услуги",icon:v.A},{href:"/dashboard/documents",label:"Документы",icon:p.A},{href:"/dashboard/partnership",label:"Сервис партнерств",icon:j.A}];function Z(e){let{children:s,user:t,profile:l,notifications:i}=e,o=(0,C.usePathname)(),[h,x]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),b=i.length,v=e=>{let{mobile:s=!1}=e;return(0,a.jsxs)("div",{className:"".concat(s?"w-full":"w-64"," bg-white border-r border-gray-200 flex flex-col"),children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-blue-600",children:"Easgik"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Личный кабинет"})]}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:R.map(e=>{let s=e.icon,t=o===e.href;return(0,a.jsx)(_(),{href:e.href,children:(0,a.jsxs)(n.$,{variant:t?"default":"ghost",className:"w-full justify-start ".concat(t?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)(s,{className:"mr-3 h-4 w-4"}),e.label]})},e.href)})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsxs)(n.$,{type:"button",variant:"ghost",className:"w-full justify-start text-red-600 hover:bg-red-50",onClick:()=>{localStorage.removeItem("currentUser"),window.location.href="/auth/login"},children:[(0,a.jsx)(N.A,{className:"mr-3 h-4 w-4"}),"Выйти"]})})]})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsx)(v,{})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsxs)("header",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(d,{children:[(0,a.jsx)(c,{asChild:!0,children:(0,a.jsx)(n.$,{variant:"ghost",size:"icon",className:"lg:hidden",children:(0,a.jsx)(y.A,{className:"h-5 w-5"})})}),(0,a.jsx)(m,{side:"left",className:"p-0 w-64",children:(0,a.jsx)(v,{mobile:!0})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Добро пожаловать, ",(null==l?void 0:l.first_name)||"Пользователь","!"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:null==l?void 0:l.phone})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(n.$,{variant:"ghost",size:"icon",className:"relative",onClick:()=>x(!h),children:[(0,a.jsx)(w.A,{className:"h-5 w-5"}),b>0&&(0,a.jsx)(u.E,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs bg-red-500",children:b})]}),(0,a.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>f(!g),children:(0,a.jsx)(A.A,{className:"h-5 w-5"})})]})]}),(0,a.jsxs)("main",{className:"flex-1 p-6 relative",children:[s,h&&(0,a.jsx)(U,{notifications:i,onClose:()=>x(!1),userId:t.id}),g&&(0,a.jsx)(L,{onClose:()=>f(!1),currentPage:o})]})]})]})}},6414:(e,s,t)=>{t.d(s,{N:()=>n});var a=t(3579),r=t(9509);let n="string"==typeof r.env.NEXT_PUBLIC_SUPABASE_URL&&r.env.NEXT_PUBLIC_SUPABASE_URL.length>0&&"string"==typeof r.env.NEXT_PUBLIC_SUPABASE_ANON_KEY&&r.env.NEXT_PUBLIC_SUPABASE_ANON_KEY.length>0?(0,a.createClientComponentClient)():{from:e=>({select:()=>Promise.resolve({data:[],error:null}),insert:()=>Promise.resolve({data:null,error:null}),update:()=>Promise.resolve({data:null,error:null}),delete:()=>Promise.resolve({data:null,error:null}),eq:()=>({select:()=>Promise.resolve({data:[],error:null}),update:()=>Promise.resolve({data:null,error:null}),delete:()=>Promise.resolve({data:null,error:null})})}),storage:{from:()=>({upload:()=>Promise.resolve({data:{path:"demo-path"},error:null}),getPublicUrl:()=>({data:{publicUrl:"/placeholder.svg"}})})},auth:{getUser:()=>Promise.resolve({data:{user:null},error:null}),getSession:()=>Promise.resolve({data:{session:null},error:null})}}},7168:(e,s,t)=>{t.d(s,{$:()=>o});var a=t(5155);t(2115);var r=t(6634),n=t(2085),l=t(3999);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:s,variant:t,size:n,asChild:o=!1,...d}=e,c=o?r.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,l.cn)(i({variant:t,size:n,className:s})),...d})}},8145:(e,s,t)=>{t.d(s,{E:()=>o});var a=t(5155);t(2115);var r=t(6634),n=t(2085),l=t(3999);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:s,variant:t,asChild:n=!1,...o}=e,d=n?r.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,l.cn)(i({variant:t}),s),...o})}},8482:(e,s,t)=>{t.d(s,{BT:()=>o,Wu:()=>d,ZB:()=>i,Zp:()=>n,aR:()=>l});var a=t(5155);t(2115);var r=t(3999);function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...t})}}}]);