<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –∏–∫–æ–Ω–∫–∏ Lucide -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- –®—Ä–∏—Ñ—Ç Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ */
        .sidebar {
            transition: transform 0.3s ease-in-out;
            transform: translateX(-100%);
        }
        .sidebar.open {
            transform: translateX(0);
        }
        .main-content {
            transition: margin-left 0.3s ease-in-out;
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–∫–æ–Ω–æ–∫ –≤ –ø–∞–Ω–µ–ª—è—Ö */
        .panel-icon {
            width: 1.25rem;
            height: 1.25rem;
            display: inline-block;
        }
        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
        }
        .modal.open {
            display: flex;
        }
        .modal-content {
            background-color: #fefefe;
            padding: 24px;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            width: 100%;
            max-width: 500px;
            position: relative;
        }
    </style>
</head>

<body class="bg-gray-100 min-h-screen flex flex-col">
    <!-- –®–∞–ø–∫–∞ -->
    <header class="bg-white shadow-sm p-4 sticky top-0 z-40">
        <div class="container mx-auto flex items-center justify-between">
            <div class="flex items-center gap-4">
                <button id="sidebar-toggle" class="md:hidden p-2 rounded-md hover:bg-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
                </button>
                <div class="flex items-center gap-2">
                    <img src="https://placehold.co/40x40/5c6ac4/ffffff/png?text=L" alt="Logo" class="rounded-full">
                    <span class="text-xl font-bold text-gray-800">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</span>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <button id="notifications-toggle" class="relative p-2 rounded-md hover:bg-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
                    <span class="absolute top-1 right-1 h-3 w-3 bg-red-500 rounded-full border-2 border-white animate-pulse"></span>
                </button>
                <button id="help-toggle" class="p-2 rounded-md hover:bg-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-help-circle"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>
                </button>
            </div>
        </div>
    </header>

    <div class="flex flex-1">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <aside id="sidebar" class="sidebar bg-white w-64 p-6 shadow-lg md:relative md:translate-x-0 md:shadow-none fixed inset-y-0 z-50">
            <div class="flex justify-end md:hidden">
                <button id="sidebar-close" class="p-2 rounded-md hover:bg-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6L6 18"/><path d="M6 6L18 18"/></svg>
                </button>
            </div>
            <nav class="space-y-4">
                <a href="#dashboard" class="flex items-center p-3 rounded-md font-medium text-gray-700 hover:bg-gray-200 tab-link active" data-tab="dashboard">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-grid mr-3 h-5 w-5"><rect width="7" height="7" x="3" y="3" rx="1"/><rect width="7" height="7" x="14" y="3" rx="1"/><rect width="7" height="7" x="14" y="14" rx="1"/><rect width="7" height="7" x="3" y="14" rx="1"/></svg>
                    –ì–ª–∞–≤–Ω–∞—è
                </a>
                <a href="#profile" class="flex items-center p-3 rounded-md font-medium text-gray-700 hover:bg-gray-200 tab-link" data-tab="profile">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-circle mr-3 h-5 w-5"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="10" r="3"/><path d="M7 20.662V19a2 2 0 012-2h6a2 2 0 012 2v1.662"/></svg>
                    –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
                </a>
                <a href="#objects" class="flex items-center p-3 rounded-md font-medium text-gray-700 hover:bg-gray-200 tab-link" data-tab="objects">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-building-2 mr-3 h-5 w-5"><path d="M6 22V4a2 2 0 012-2h8a2 2 0 012 2v18"/><path d="M6 12H4a2 2 0 01-2-2V6a2 2 0 012-2h2"/><path d="M18 10h2a2 2 0 012 2v4a2 2 0 01-2 2h-2"/><path d="M10 6h4"/><path d="M10 10h4"/><path d="M10 14h4"/><path d="M10 18h4"/></svg>
                    –ú–æ–∏ –æ–±—ä–µ–∫—Ç—ã
                </a>
                <a href="#services" class="flex items-center p-3 rounded-md font-medium text-gray-700 hover:bg-gray-200 tab-link" data-tab="services">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shopping-cart mr-3 h-5 w-5"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 002 1.58h9.78a2 2 0 001.95-1.57l1.65-7.43H5.12"/></svg>
                    –£—Å–ª—É–≥–∏
                </a>
                <a href="#partnership" class="flex items-center p-3 rounded-md font-medium text-gray-700 hover:bg-gray-200 tab-link" data-tab="partnership">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-handshake mr-3 h-5 w-5"><path d="M12 11h-2a2 2 0 00-2 2v2a2 2 0 002 2h2m0-4v-2m0 2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2m-2-2a2 2 0 00-2 2v2a2 2 0 002 2h2m0-4v-2m0 2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2m-2 2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2m-2-2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2m-2-2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2m-2-2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2m-2-2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2m-2-2h2a2 2 0 002-2v-2a2 2 0 00-2-2h-2"/></svg>
                    –ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ
                </a>
            </nav>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main id="main-content" class="main-content flex-1 p-4 md:p-8 overflow-y-auto">
            <div id="dashboard" class="tab-content active">
                <div class="space-y-6">
                    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è -->
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center">
                        <div>
                            <h1 class="text-3xl font-bold text-gray-800">–ì–ª–∞–≤–Ω–∞—è</h1>
                            <p class="text-gray-500 mt-1">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –≤–∞—à –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</p>
                        </div>
                        <div class="mt-4 sm:mt-0">
                            <button id="sync-crm-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-300 flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw mr-2 h-4 w-4"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.79 2.87L3 7"/><path d="M3 3v4h4"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.79-2.87L21 17"/><path d="M21 21v-4h-4"/></svg>
                                –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å CRM
                            </button>
                        </div>
                    </div>
                    
                    <div id="sync-result-alert" class="hidden rounded-lg border px-4 py-3 text-sm" role="alert">
                        <p></p>
                    </div>

                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <div class="flex items-center justify-between">
                                <h3 class="text-sm font-medium text-gray-500">–û–±—ä–µ–∫—Ç—ã –≤ —Ä–∞–±–æ—Ç–µ</h3>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bolt-circle h-6 w-6 text-blue-500"><circle cx="12" cy="12" r="10"/><path d="M10 16l4-8-2-4v8l-4 8 2 4z"/></svg>
                            </div>
                            <p class="mt-4 text-3xl font-bold text-gray-900">12</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <div class="flex items-center justify-between">
                                <h3 class="text-sm font-medium text-gray-500">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</h3>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle-2 h-6 w-6 text-green-500"><circle cx="12" cy="12" r="10"/><path d="M8 11s2 4 4 4c.5 0 1-1 2-1s2 1 2 1"/><path d="M12 4s-1 1-1 3.5c0 2 1.5 3.5 3.5 3.5"/></svg>
                            </div>
                            <p class="mt-4 text-3xl font-bold text-gray-900">45</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <div class="flex items-center justify-between">
                                <h3 class="text-sm font-medium text-gray-500">–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ</h3>
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text h-6 w-6 text-purple-500"><path d="M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></svg>
                            </div>
                            <p class="mt-4 text-3xl font-bold text-gray-900">57</p>
                        </div>
                    </div>
                    
                    <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã -->
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h2 class="text-lg font-semibold text-gray-800 mb-4">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã</h2>
                        <div id="objects-list-dashboard" class="space-y-4">
                            <!-- –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —Å—é–¥–∞ JS -->
                        </div>
                    </div>
                </div>
            </div>

            <div id="profile" class="tab-content hidden">
                <div class="space-y-6">
                    <h1 class="text-3xl font-bold text-gray-800">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>
                    
                    <!-- –§–æ—Ä–º–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
                    <div id="profile-form-container">
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <h2 class="text-lg font-semibold text-gray-800 mb-4">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è</h2>
                            <form id="profile-form" class="space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">–§–∞–º–∏–ª–∏—è</label>
                                        <input type="text" name="last_name" id="last_name" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">–ò–º—è</label>
                                        <input type="text" name="first_name" id="first_name" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">–û—Ç—á–µ—Å—Ç–≤–æ</label>
                                        <input type="text" name="middle_name" id="middle_name" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                                        <input type="tel" name="phone" id="phone" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">Email</label>
                                        <input type="email" name="email" id="email" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2" required>
                                    </div>
                                </div>
                                <div class="space-y-6">
                                    <div>
                                        <h3 class="text-md font-semibold text-gray-800 mb-2">–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</h3>
                                        <select id="payment-method" name="payment_method" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2">
                                            <option value="cash">–ù–∞–ª–∏—á–Ω—ã–µ</option>
                                            <option value="bank_transfer">–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥</option>
                                            <option value="qr_code">–û–ø–ª–∞—Ç–∞ –ø–æ QR-–∫–æ–¥—É</option>
                                            <option value="invoice">–ü–æ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º</option>
                                        </select>
                                    </div>
                                    <div>
                                        <h3 class="text-md font-semibold text-gray-800 mb-2">–°–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</h3>
                                        <select id="document-delivery" name="document_delivery" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2">
                                            <option value="office">–í –æ—Ñ–∏—Å–µ</option>
                                            <option value="on_site">–î–æ—Å—Ç–∞–≤–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç</option>
                                            <option value="yandex">–Ø–Ω–¥–µ–∫—Å.–î–æ—Å—Ç–∞–≤–∫–∞</option>
                                            <option value="sdek">CDEK</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="border-t pt-6">
                                    <h3 class="text-md font-semibold text-gray-800 mb-2">–ü—Ä–æ–º–æ–∫–æ–¥</h3>
                                    <div class="flex gap-2">
                                        <input type="text" id="promo-code-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥" class="flex-1 p-2 border border-gray-300 rounded-md shadow-sm">
                                        <button type="button" id="apply-promo-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-300">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                                    </div>
                                    <p id="promo-message" class="text-sm mt-2"></p>
                                </div>
                                
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h4 class="font-medium mb-3">–†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏</h4>
                                    <div class="space-y-2 text-sm">
                                        <div class="flex justify-between">
                                            <span>–£—Å–ª—É–≥–∞:</span>
                                            <span>–ú–µ–∂–µ–≤–æ–π –ø–ª–∞–Ω</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>–°—Ç–æ–∏–º–æ—Å—Ç—å:</span>
                                            <span id="total-amount">15 000 ‚ÇΩ</span>
                                        </div>
                                        <div id="discount-row" class="hidden flex justify-between text-green-600">
                                            <span>–°–∫–∏–¥–∫–∞ (<span id="discount-code"></span>):</span>
                                            <span id="discount-amount"></span>
                                        </div>
                                        <div class="border-t pt-2 flex justify-between font-medium">
                                            <span>–ö –æ–ø–ª–∞—Ç–µ:</span>
                                            <span id="final-amount">15 000 ‚ÇΩ</span>
                                        </div>
                                    </div>
                                </div>
                                <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition duration-300">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </form>
                        </div>
                    </div>
                    
                    <!-- –§–æ—Ä–º–∞ –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö -->
                    <div id="personal-data-form-container">
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <h2 class="text-lg font-semibold text-gray-800 mb-4">–ü–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>
                            <form id="personal-data-form" class="space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">–°–µ—Ä–∏—è –ø–∞—Å–ø–æ—Ä—Ç–∞</label>
                                        <input type="text" name="passport_series" id="passport_series" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">–ù–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞</label>
                                        <input type="text" name="passport_number" id="passport_number" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">–ö–µ–º –≤—ã–¥–∞–Ω</label>
                                        <input type="text" name="passport_issued_by" id="passport_issued_by" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700">–î–∞—Ç–∞ –≤—ã–¥–∞—á–∏</label>
                                        <input type="date" name="passport_issued_date" id="passport_issued_date" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2">
                                    </div>
                                </div>
                                <div class="space-y-2">
                                    <label class="block text-sm font-medium text-gray-700">–ê–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</label>
                                    <textarea name="passport_registration_address" id="passport_registration_address" rows="3" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2"></textarea>
                                </div>
                                <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition duration-300">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div id="objects" class="tab-content hidden">
                <div class="space-y-6">
                    <h1 class="text-3xl font-bold text-gray-800">–ú–æ–∏ –æ–±—ä–µ–∫—Ç—ã</h1>
                    <div id="objects-list">
                        <!-- –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —Å—é–¥–∞ JS -->
                    </div>
                </div>
            </div>

            <div id="services" class="tab-content hidden">
                <div class="space-y-6">
                    <h1 class="text-3xl font-bold text-gray-800">–£—Å–ª—É–≥–∏</h1>
                    <div id="services-catalog">
                        <!-- –ö–∞—Ç–∞–ª–æ–≥ —É—Å–ª—É–≥ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —Å—é–¥–∞ JS -->
                    </div>
                </div>
            </div>
            
            <div id="partnership" class="tab-content hidden">
                <div class="space-y-6">
                    <h1 class="text-3xl font-bold text-gray-800">–ü–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ</h1>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ -->
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <h2 class="text-lg font-semibold text-gray-800 mb-4">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞</h2>
                            <form id="add-client-form" class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">–§–ò–û –∫–ª–∏–µ–Ω—Ç–∞</label>
                                    <input type="text" name="client_name" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">–¢–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞</label>
                                    <input type="tel" name="client_phone" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2" placeholder="+7 (999) 999-99-99" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">–ê–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞</label>
                                    <textarea name="object_address" rows="3" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2" placeholder="–≥. –û—Ä–µ—Ö–æ–≤–æ-–ó—É–µ–≤–æ, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10"></textarea>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                                    <textarea name="comment" rows="3" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2"></textarea>
                                </div>
                                <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-300 flex items-center justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-plus mr-2 h-4 w-4"><path d="M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="18" x2="18" y1="10" y2="16"/><line x1="15" x2="21" y1="13" y2="13"/></svg>
                                    –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
                                </button>
                            </form>
                        </div>
                        
                        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ -->
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <h2 class="text-lg font-semibold text-gray-800 mb-4">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤</h2>
                            <div class="space-y-4 text-sm text-gray-600">
                                <div>
                                    <h4 class="font-medium text-gray-800 mb-2">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞?</h4>
                                    <p>
                                        –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –∫–æ–º–∏—Å—Å–∏—é –∑–∞ –∫–∞–∂–¥—ã–π –∑–∞–∫–∞–∑, –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–π –ø—Ä–∏–≤–ª–µ—á–µ–Ω–Ω—ã–º –≤–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–æ–º. –í—Å–µ –∑–∞–∫–∞–∑—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä–µ–ø–ª—è—é—Ç—Å—è –∑–∞ –≤–∞–º–∏.
                                    </p>
                                </div>
                                <div>
                                    <h4 class="font-medium text-gray-800 mb-2">–ö–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä –∫–æ–º–∏—Å—Å–∏–∏?</h4>
                                    <p>
                                        –†–∞–∑–º–µ—Ä –∫–æ–º–∏—Å—Å–∏–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ —É—Å–ª—É–≥–∏ –∏ –æ–±—ä–µ–º–∞ —Ä–∞–±–æ—Ç. –û–±—ã—á–Ω–æ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç 5% –¥–æ 15% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–∫–∞–∑–∞.
                                    </p>
                                </div>
                                <div>
                                    <h4 class="font-medium text-gray-800 mb-2">–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞?</h4>
                                    <p>
                                        –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ú–æ–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã" –∏ –Ω–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞". –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞—à–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.
                                    </p>
                                </div>
                                <div>
                                    <h4 class="font-medium text-gray-800 mb-2">–ö–æ–≥–¥–∞ –≤—ã–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –∫–æ–º–∏—Å—Å–∏—è?</h4>
                                    <p>
                                        –ö–æ–º–∏—Å—Å–∏—è –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–≤–µ–¥–µ–Ω–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ - 1000 —Ä—É–±–ª–µ–π.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
    <div id="notification-panel" class="absolute top-0 right-0 z-50 w-96 max-w-full hidden">
        <div class="bg-white rounded-lg shadow-lg">
            <div class="flex items-center justify-between p-4 border-b">
                <h2 class="flex items-center gap-2 text-lg font-semibold text-gray-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="panel-icon"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
                    –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                </h2>
                <button id="close-notifications" class="p-2 rounded-md hover:bg-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6L6 18"/><path d="M6 6L18 18"/></svg>
                </button>
            </div>
            <div id="notification-content" class="p-4 space-y-4 max-h-[80vh] overflow-y-auto">
                <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>
    
    <!-- –ü–∞–Ω–µ–ª—å –ø–æ–º–æ—â–∏ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
    <div id="help-panel" class="absolute top-0 right-0 z-50 w-96 max-w-full hidden">
        <div class="bg-white rounded-lg shadow-lg">
            <div class="flex items-center justify-between p-4 border-b">
                <h2 class="flex items-center gap-2 text-lg font-semibold text-gray-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="panel-icon"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>
                    –ü–æ–º–æ—â—å
                </h2>
                <button id="close-help" class="p-2 rounded-md hover:bg-gray-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x"><path d="M18 6L6 18"/><path d="M6 6L18 18"/></svg>
                </button>
            </div>
            <div id="help-content" class="p-4 space-y-4 max-h-[80vh] overflow-y-auto">
                <div class="space-y-4">
                    <h3 class="font-semibold text-gray-800">–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞</h3>
                    <ul class="list-disc list-inside space-y-2 text-sm text-gray-700">
                        <li>üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤–∞—à–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤: –∞–∫—Ç–∏–≤–Ω—ã–µ, –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∏ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ</li>
                        <li>üîî –°–ª–µ–¥–∏—Ç–µ –∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É - —Ç–∞–º –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤–∞–∂–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</li>
                        <li>‚ö° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∑–∞–∫–∞–∑–∞ —É—Å–ª—É–≥, –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è</li>
                        <li>üìã –í —Ä–∞–∑–¥–µ–ª–µ '–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã' –≤–∏–¥–Ω—ã –≤–∞—à–∏ –Ω–µ–¥–∞–≤–Ω–∏–µ –∑–∞–∫–∞–∑—ã —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏</li>
                        <li>üí¨ –î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –Ω–∞—à–µ–π CRM-—Å–∏—Å—Ç–µ–º–æ–π</li>
                    </ul>
                </div>
                <div class="border-t pt-4">
                    <h3 class="font-semibold text-gray-800">–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                    <div class="space-y-3 mt-2 text-sm">
                        <div class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone h-4 w-4 text-green-600"><path d="M22 16.92v3a2 2 0 01-2.18 2A19.79 19.79 0 018.64 2.18a2 2 0 012.18-2h3a2 2 0 012 2v2a2 2 0 01-2 2a15.79 15.79 0 00-4 4a15.79 15.79 0 00-4 4a2 2 0 012 2h2a2 2 0 012 2v2a2 2 0 01-2 2h-3a2 2 0 01-2-2"/></svg>
                            <span class="font-medium">8 (495) 127 75-73</span>
                        </div>
                        <div class="flex items-start gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-map-pin h-4 w-4 text-blue-600 mt-0.5"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0116 0z"/><circle cx="12" cy="10" r="3"/></svg>
                            <span>–≥. –û—Ä–µ—Ö–æ–≤–æ-–ó—É–µ–≤–æ, —É–ª. –ë–∞–±—É—à–∫–∏–Ω–∞ –¥.2–∞, 5 —ç—Ç–∞–∂, –æ—Ñ–∏—Å 10</span>
                        </div>
                    </div>
                </div>
                <div class="border-t pt-4">
                    <h4 class="font-medium mb-2 text-gray-800">–ù—É–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è?</h4>
                    <p class="text-sm text-gray-600 mb-3">
                        –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É—Å–ª—É–≥
                    </p>
                    <a href="tel:84951277573" class="inline-flex items-center justify-center w-full px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone mr-2 h-4 w-4"><path d="M22 16.92v3a2 2 0 01-2.18 2A19.79 19.79 0 018.64 2.18a2 2 0 012.18-2h3a2 2 0 012 2v2a2 2 0 01-2 2a15.79 15.79 0 00-4 4a15.79 15.79 0 00-4 4a2 2 0 012 2h2a2 2 0 012 2v2a2 2 0 01-2 2h-3a2 2 0 01-2-2"/></svg>
                        –ü–æ–∑–≤–æ–Ω–∏—Ç—å
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // –§–ª–∞–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
            let dataLoaded = false;
            
            // –ó–∞–≥–ª—É—à–∫–∞ –¥–∞–Ω–Ω—ã—Ö
            const objectsData = [
                { id: 'obj1', address: '–≥. –û—Ä–µ—Ö–æ–≤–æ-–ó—É–µ–≤–æ, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 10', status: 'in_progress', service_name: '–ú–µ–∂–µ–≤–æ–π –ø–ª–∞–Ω', created_at: '2023-10-26T10:00:00Z', manager_name: '–ò–≤–∞–Ω', message_count: 5, user_id: 'user123' },
                { id: 'obj2', address: '–≥. –ü–∞–≤–ª–æ–≤—Å–∫–∏–π –ü–æ—Å–∞–¥, —É–ª. –ú–∏—Ä–∞, –¥. 5', status: 'completed', service_name: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω', created_at: '2023-09-15T12:30:00Z', manager_name: '–°–µ—Ä–≥–µ–π', message_count: 2, user_id: 'user123' },
                { id: 'obj3', address: '–≥. –í–æ—Å–∫—Ä–µ—Å–µ–Ω—Å–∫, —É–ª. –û–∫—Ç—è–±—Ä—å—Å–∫–∞—è, –¥. 20', status: 'new', service_name: '–ì–µ–æ–¥–µ–∑–∏—è', created_at: '2023-11-01T08:45:00Z', manager_name: '–ï–ª–µ–Ω–∞', message_count: 0, user_id: 'user123' },
                { id: 'obj4', address: '–≥. –®–∞—Ç—É—Ä–∞, —É–ª. –°–æ–≤–µ—Ç—Å–∫–∞—è, –¥. 5', status: 'in_progress', service_name: '–ú–µ–∂–µ–≤–æ–π –ø–ª–∞–Ω', created_at: '2023-10-20T14:00:00Z', manager_name: '–ò–≤–∞–Ω', message_count: 1, user_id: 'user123' },
            ];
            
            const servicesData = [
                { id: 's1', name: '–ú–µ–∂–µ–≤–æ–π –ø–ª–∞–Ω', description: '–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –º–µ–∂–µ–≤–æ–≥–æ –ø–ª–∞–Ω–∞ –¥–ª—è –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ –∫–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–π —É—á–µ—Ç', base_price: 15000, cadastral_required: true },
                { id: 's2', name: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω', description: '–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∞ –¥–ª—è –∑–¥–∞–Ω–∏–π –∏ —Å–æ–æ—Ä—É–∂–µ–Ω–∏–π', base_price: 18000, cadastral_required: true },
                { id: 's3', name: '–ì–µ–æ–¥–µ–∑–∏—á–µ—Å–∫–∞—è —Å—ä–µ–º–∫–∞', description: '–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –≥–µ–æ–¥–µ–∑–∏—á–µ—Å–∫–∏—Ö –∏–∑—ã—Å–∫–∞–Ω–∏–π –Ω–∞ —É—á–∞—Å—Ç–∫–µ', base_price: 12000, cadastral_required: false },
                { id: 's4', name: '–ê–∫—Ç –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è', description: '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∞–∫—Ç–∞ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–Ω—è—Ç–∏—è –æ–±—ä–µ–∫—Ç–∞ —Å –∫–∞–¥–∞—Å—Ç—Ä–æ–≤–æ–≥–æ —É—á–µ—Ç–∞', base_price: 8000, cadastral_required: true },
            ];

            const notificationsData = [
                { id: 'notif1', title: '–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω', message: '–°—Ç–∞—Ç—É—Å –≤–∞—à–µ–≥–æ –∑–∞–∫–∞–∑–∞ #20230501 –Ω–∞ —É—Å–ª—É–≥—É "–ú–µ–∂–µ–≤–æ–π –ø–ª–∞–Ω" –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ "–ó–∞–≤–µ—Ä—à–µ–Ω".', type: 'info', created_at: '2023-11-20T15:00:00Z' },
                { id: 'notif2', title: '–û—Å—Ç–∞—Ç–æ–∫ –ø–æ —Å—á–µ—Ç—É', message: '–ù–∞ –≤–∞—à–µ–º —Å—á–µ—Ç—É –æ—Å—Ç–∞–ª–æ—Å—å 1200 ‚ÇΩ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø–æ–ª–Ω–∏—Ç–µ —Å—á–µ—Ç –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç.', type: 'alert', created_at: '2023-11-19T10:00:00Z' },
            ];

            const profileData = {
                first_name: '–ê–Ω–¥—Ä–µ–π',
                last_name: '–ü–µ—Ç—Ä–æ–≤',
                middle_name: '–°–µ—Ä–≥–µ–µ–≤–∏—á',
                phone: '+79998887766',
                email: 'andrey.petrov@example.com',
                payment_method: 'bank_transfer',
                document_delivery: 'sdek',
            };

            const personalData = {
                passport_series: '1234',
                passport_number: '567890',
                passport_issued_by: '–ì–£ –ú–í–î –†–æ—Å—Å–∏–∏ –ø–æ –≥. –ú–æ—Å–∫–≤–µ',
                passport_issued_date: '2015-05-20',
                passport_registration_address: '–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, –¥.1, –∫–≤.1',
            };
            
            const promoCodes = [
                { code: 'SKIDKA10', discount_type: 'percentage', discount_value: 10 },
                { code: 'SUPER500', discount_type: 'fixed', discount_value: 500 },
            ];
            
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –æ–±—ä–µ–∫—Ç–æ–≤
            function renderObjects(data, containerId) {
                const container = document.getElementById(containerId);
                if (!container) return;
                
                container.innerHTML = '';
                
                if (data.length === 0) {
                    container.innerHTML = `
                        <div class="bg-white p-6 rounded-lg shadow-sm text-center text-gray-500">
                            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.</p>
                        </div>
                    `;
                    return;
                }
                
                data.forEach(object => {
                    let statusColor;
                    switch(object.status) {
                        case 'new': statusColor = 'bg-gray-200 text-gray-800'; break;
                        case 'in_progress': statusColor = 'bg-blue-200 text-blue-800'; break;
                        case 'completed': statusColor = 'bg-green-200 text-green-800'; break;
                        case 'cancelled': statusColor = 'bg-red-200 text-red-800'; break;
                        default: statusColor = 'bg-gray-200 text-gray-800';
                    }

                    const objectHtml = `
                        <div class="bg-white p-4 rounded-lg shadow-sm">
                            <div class="flex items-center justify-between mb-2">
                                <h3 class="text-md font-medium text-gray-800">${object.address}</h3>
                                <span class="text-xs font-semibold px-2 py-1 rounded-full ${statusColor}">${object.status === 'new' ? '–ù–æ–≤—ã–π' : object.status === 'in_progress' ? '–í —Ä–∞–±–æ—Ç–µ' : object.status === 'completed' ? '–ó–∞–≤–µ—Ä—à–µ–Ω' : '–û—Ç–º–µ–Ω–µ–Ω'}</span>
                            </div>
                            <div class="space-y-1 text-sm text-gray-600">
                                <div class="flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text h-4 w-4"><path d="M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></svg>
                                    <span>${object.service_name}</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar h-4 w-4"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
                                    <span>–ó–∞–∫–∞–∑ –æ—Ç: ${new Date(object.created_at).toLocaleDateString()}</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user h-4 w-4"><path d="M19 21v-2a4 4 0 00-4-4H9a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                                    <span>–ú–µ–Ω–µ–¥–∂–µ—Ä: ${object.manager_name}</span>
                                </div>
                            </div>
                            <div class="flex gap-2 mt-4">
                                <button class="bg-gray-200 text-gray-700 px-3 py-1 rounded-md text-sm hover:bg-gray-300 transition duration-300 preview-doc-btn" data-id="${object.id}">
                                    –î–æ–∫—É–º–µ–Ω—Ç—ã
                                </button>
                                <button class="bg-gray-200 text-gray-700 px-3 py-1 rounded-md text-sm hover:bg-gray-300 transition duration-300 open-chat-btn" data-id="${object.id}">
                                    –ß–∞—Ç (${object.message_count})
                                </button>
                            </div>
                        </div>
                    `;
                    container.innerHTML += objectHtml;
                });
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ —É—Å–ª—É–≥
            function renderServicesCatalog(data, containerId) {
                const container = document.getElementById(containerId);
                if (!container) return;
                
                container.innerHTML = '';

                if (data.length === 0) {
                    container.innerHTML = `
                        <div class="bg-white p-6 rounded-lg shadow-sm text-center text-gray-500">
                            <p>–£—Å–ª—É–≥–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –º–µ–Ω–µ–¥–∂–µ—Ä—É.</p>
                        </div>
                    `;
                    return;
                }

                data.forEach(service => {
                    const serviceHtml = `
                        <div class="bg-white p-6 rounded-lg shadow-sm">
                            <h3 class="text-lg font-semibold text-gray-800">${service.name}</h3>
                            <p class="text-sm text-gray-600 mt-2">${service.description}</p>
                            <div class="border-t mt-4 pt-4">
                                <div class="flex justify-between items-center">
                                    <span>–°—Ç–æ–∏–º–æ—Å—Ç—å:</span>
                                    <span class="font-bold">–æ—Ç ${service.base_price.toLocaleString()} ‚ÇΩ</span>
                                </div>
                            </div>
                            <button class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-300 w-full mt-4 order-service-btn" data-id="${service.id}">
                                –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
                            </button>
                        </div>
                    `;
                    container.innerHTML += serviceHtml;
                });
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã –ø—Ä–æ—Ñ–∏–ª—è
            function populateProfileForm(data) {
                if (data) {
                    document.getElementById('last_name').value = data.last_name;
                    document.getElementById('first_name').value = data.first_name;
                    document.getElementById('middle_name').value = data.middle_name;
                    document.getElementById('phone').value = data.phone;
                    document.getElementById('email').value = data.email;
                    document.getElementById('payment-method').value = data.payment_method;
                    document.getElementById('document-delivery').value = data.document_delivery;
                }
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
            function populatePersonalDataForm(data) {
                if (data) {
                    document.getElementById('passport_series').value = data.passport_series;
                    document.getElementById('passport_number').value = data.passport_number;
                    document.getElementById('passport_issued_by').value = data.passport_issued_by;
                    document.getElementById('passport_issued_date').value = data.passport_issued_date;
                    document.getElementById('passport_registration_address').value = data.passport_registration_address;
                }
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            function renderNotifications(data) {
                const container = document.getElementById('notification-content');
                if (!container) return;
                
                container.innerHTML = '';
                if (data.length === 0) {
                    container.innerHTML = `
                        <div class="text-center text-gray-500">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bell-off mx-auto h-12 w-12 text-gray-400"><path d="M19 19H5c-1.1 0-2-.9-2-2v-4"/><path d="M19 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/><line x1="2" x2="22" y1="2" y2="22"/></svg>
                            <h3 class="mt-2 text-sm font-medium text-gray-900">–ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h3>
                            <p class="mt-1 text-sm text-gray-500">–í—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–æ—á–∏—Ç–∞–Ω—ã</p>
                        </div>
                    `;
                    return;
                }

                data.forEach(notification => {
                    let typeColor;
                    switch(notification.type) {
                        case 'info': typeColor = 'bg-blue-100 text-blue-800'; break;
                        case 'alert': typeColor = 'bg-yellow-100 text-yellow-800'; break;
                        case 'error': typeColor = 'bg-red-100 text-red-800'; break;
                        default: typeColor = 'bg-gray-100 text-gray-800';
                    }

                    const notificationHtml = `
                        <div class="p-3 border rounded-lg">
                            <div class="flex items-start justify-between gap-2">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2 mb-1">
                                        <h4 class="font-medium text-sm">${notification.title}</h4>
                                        <span class="text-xs font-semibold px-2 py-0.5 rounded-full ${typeColor}">${notification.type}</span>
                                    </div>
                                    <p class="text-sm text-gray-600">${notification.message}</p>
                                    <p class="text-xs text-gray-500 mt-1">${new Date(notification.created_at).toLocaleString('ru-RU')}</p>
                                </div>
                                <button class="mark-as-read text-gray-500 hover:text-gray-700" data-id="${notification.id}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle h-4 w-4"><path d="M22 11.08V12a10 10 0 11-5.93-8.64"/><path d="M9 11l3 3L22 4"/></svg>
                                </button>
                            </div>
                        </div>
                    `;
                    container.innerHTML += notificationHtml;
                });

                document.querySelectorAll('.mark-as-read').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const id = e.currentTarget.dataset.id;
                        const updatedData = notificationsData.filter(n => n.id !== id);
                        notificationsData.splice(0, notificationsData.length, ...updatedData);
                        renderNotifications(notificationsData);
                    });
                });
            }

            // –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
            const tabLinks = document.querySelectorAll('.tab-link');
            const tabContents = document.querySelectorAll('.tab-content');

            function showTab(tabId) {
                tabContents.forEach(content => {
                    content.classList.add('hidden');
                    content.classList.remove('active');
                });
                document.getElementById(tabId).classList.remove('hidden');
                document.getElementById(tabId).classList.add('active');

                tabLinks.forEach(link => {
                    link.classList.remove('bg-gray-200');
                });
                document.querySelector(`.tab-link[data-tab="${tabId}"]`).classList.add('bg-gray-200');
            }
            
            tabLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const tabId = e.currentTarget.dataset.tab;
                    showTab(tabId);
                    
                    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
                    const sidebar = document.getElementById('sidebar');
                    if (sidebar.classList.contains('open')) {
                        sidebar.classList.remove('open');
                    }
                });
            });

            // –õ–æ–≥–∏–∫–∞ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
            const sidebarToggle = document.getElementById('sidebar-toggle');
            const sidebarClose = document.getElementById('sidebar-close');
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('main-content');
            
            sidebarToggle.addEventListener('click', () => {
                sidebar.classList.add('open');
            });
            sidebarClose.addEventListener('click', () => {
                sidebar.classList.remove('open');
            });

            // –õ–æ–≥–∏–∫–∞ –ø–∞–Ω–µ–ª–µ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –ø–æ–º–æ—â–∏
            const notificationsToggle = document.getElementById('notifications-toggle');
            const helpToggle = document.getElementById('help-toggle');
            const notificationsPanel = document.getElementById('notification-panel');
            const helpPanel = document.getElementById('help-panel');
            const closeNotificationsBtn = document.getElementById('close-notifications');
            const closeHelpBtn = document.getElementById('close-help');

            notificationsToggle.addEventListener('click', () => {
                notificationsPanel.classList.toggle('hidden');
                helpPanel.classList.add('hidden');
                if (!notificationsPanel.classList.contains('hidden') && !dataLoaded) {
                     renderNotifications(notificationsData);
                }
            });
            
            helpToggle.addEventListener('click', () => {
                helpPanel.classList.toggle('hidden');
                notificationsPanel.classList.add('hidden');
            });

            closeNotificationsBtn.addEventListener('click', () => {
                notificationsPanel.classList.add('hidden');
            });
            
            closeHelpBtn.addEventListener('click', () => {
                helpPanel.classList.add('hidden');
            });

            // –õ–æ–≥–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å CRM
            const syncCrmBtn = document.getElementById('sync-crm-btn');
            const syncResultAlert = document.getElementById('sync-result-alert');

            syncCrmBtn.addEventListener('click', () => {
                syncResultAlert.classList.add('hidden');
                syncCrmBtn.disabled = true;
                syncCrmBtn.innerHTML = `
                    <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è...
                `;

                setTimeout(() => {
                    const success = Math.random() > 0.3;
                    const resultMessage = success ? '–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã.' : '–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.';
                    const resultColor = success ? 'border-green-400 bg-green-50 text-green-700' : 'border-red-400 bg-red-50 text-red-700';

                    syncResultAlert.querySelector('p').textContent = resultMessage;
                    syncResultAlert.className = `rounded-lg border px-4 py-3 text-sm ${resultColor}`;
                    syncResultAlert.classList.remove('hidden');
                    
                    syncCrmBtn.disabled = false;
                    syncCrmBtn.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw mr-2 h-4 w-4"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.79 2.87L3 7"/><path d="M3 3v4h4"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.79-2.87L21 17"/><path d="M21 21v-4h-4"/></svg>
                        –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å CRM
                    `;
                }, 2000);
            });

            // –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
            const applyPromoBtn = document.getElementById('apply-promo-btn');
            applyPromoBtn.addEventListener('click', () => {
                const promoCodeInput = document.getElementById('promo-code-input').value.toUpperCase();
                const promoMessage = document.getElementById('promo-message');
                const discountRowEl = document.getElementById('discount-row');
                const discountCodeEl = document.getElementById('discount-code');
                const discountAmountEl = document.getElementById('discount-amount');
                const finalAmountEl = document.getElementById('final-amount');
                const totalAmount = 15000;

                const promo = promoCodes.find(p => p.code === promoCodeInput);
                let discountAmount = 0;
                
                if (promo) {
                    if (promo.discount_type === 'percentage') {
                        discountAmount = totalAmount * (promo.discount_value / 100);
                    } else {
                        discountAmount = promo.discount_value;
                    }
                    const finalAmount = totalAmount - discountAmount;
                    
                    discountCodeEl.textContent = promo.code;
                    discountAmountEl.textContent = `- ${discountAmount.toLocaleString()} ‚ÇΩ`;
                    finalAmountEl.textContent = `${finalAmount.toLocaleString()} ‚ÇΩ`;
                    
                    discountRowEl.classList.remove('hidden');
                    promoMessage.textContent = '–ü—Ä–æ–º–æ–∫–æ–¥ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω!';
                    promoMessage.className = 'text-sm mt-2 text-green-600';
                } else {
                    // –°–±—Ä–æ—Å –∫ –∏—Å—Ö–æ–¥–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º
                    discountRowEl.classList.add('hidden');
                    finalAmountEl.textContent = `${totalAmount.toLocaleString()} ‚ÇΩ`;
                    
                    promoMessage.textContent = '–ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥';
                    promoMessage.className = 'text-sm mt-2 text-red-600';
                }
            });

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            renderObjects(objectsData, 'objects-list');
            renderObjects(objectsData.slice(0, 2), 'objects-list-dashboard');
            renderServicesCatalog(servicesData, 'services-catalog');
            populateProfileForm(profileData);
            populatePersonalDataForm(personalData);
            dataLoaded = true;
        });
    </script>
</body>
</html>
